{% extends 'base.html' %}
{% block title %}Edit Group{% endblock %}
{% block content %}

<h1 class='current-page' value='edit_group'>{{group.group_name}}</h1>

<h5>Group Admin: </h5>
<a href='/users/{{ admin["admin_id"] }}'><h7>{{ admin['name']}}({{ admin['username']}})</h7></a>
<br>
<h5>Group Members:</h5>
<br>

<table class="table table-hover">
<thead>
<tr>
    <th>Name(username)</th>
    <th> </th>
</tr>
</thead>
<tbody>

    {% for member in members %}
        <tr>
            <td>
                <a href="user/{{ member.user_id }}">{{ member.user.fname }} {{ member.user.lname }}({{ member.user.username }})</a>
            </td>
            <td>
                <span class="dropdown">
                <span class="glyphicon glyphicon-circle-arrow-left dropdown-toggle" id="member-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"></span>
                <ul class="dropdown-menu dropdown-menu-right track-playlist-dropdown" aria-labelledby="member-dropdown">
                    <li>
                        <a id='{{ member.user.user_id }}-remove' class='remove_member' data-user_id='{{ member.user.user_id }}' data-group_id='{{ group.group_id }}'>
                            Remove from Group
                        </a>
                    </li>
                    <li>
                        <a id='{{ member.user.user_id }}-make_admin' class='admin_member'data-user_id='{{ member.user.user_id }}' data-group_id='{{ group.group_id }}'>
                            Make Admin
                        </a>
                    </li>
                </ul>
                </span>
            </td>
        </tr>


    {% endfor %}


</tbody>
</table>
<form id='{{ group.group_id }}-add_form'>
<select id='{{ group.group_id }}-add' class="selectpicker" multiple data-live-search="true" data-group_id='{{ group.group_id }}'>
{% for member in non_members %}
    <option value='{{ member.user.user_id }}' data-group_id='{{ group.group_id }}'>{{ member.user.fname }} {{ member.user.lname }}({{ member.user.username }})</option>
{% endfor %}
</select>
<!-- <button  class="btn btn-primary add_member">
 --><span class='glyphicon glyphicon-plus-sign add_member' type="submit" data-group_id='{{ group.group_id }}'></span>
<!-- </button> -->
</form>

<br>


<script type=text/javascript>
    var userPlaylists = {{ playlists|tojson|safe }}; 
</script> 


{% endblock %}

{% block javascript %}edit_group{% endblock %}
